!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=83)}([function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){var n=r(53);e.exports=function(e,t,r){var o=null==e?void 0:n(e,t);return void 0===o?r:o}},function(e,t,r){var n=r(16),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){var n=r(39),o=r(42);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},function(e,t,r){var n=r(17),o=r(37),i=r(14),s=r(3),a=r(23),c=r(25),u=r(18),p=r(27),l=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(a(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||p(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!n(e).length;for(var r in e)if(l.call(e,r))return!1;return!0}},function(e,t,r){var n=r(7),o=r(33),i=r(34),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):i(e)}},function(e,t,r){var n=r(2).Symbol;e.exports=n},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){var n=r(4)(Object,"create");e.exports=n},function(e,t,r){var n=r(70);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t,r){var n=r(75);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e,t,r){var n=r(28);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},function(e,t,r){var n=r(50),o=r(17),i=r(23);e.exports=function(e){return i(e)?n(e):o(e)}},function(e,t,r){var n=r(32),o=r(8),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return o(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},function(e,t,r){var n=r(6),o=r(8);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(31))},function(e,t,r){var n=r(18),o=r(35),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(6),o=r(20);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,r){var n=r(4)(r(2),"Map");e.exports=n},function(e,t,r){var n=r(19),o=r(24);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,r){(function(e){var n=r(2),o=r(46),i=t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===i?n.Buffer:void 0,c=(a?a.isBuffer:void 0)||o;e.exports=c}).call(this,r(26)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n=r(47),o=r(48),i=r(49),s=i&&i.isTypedArray,a=s?o(s):n;e.exports=a},function(e,t,r){var n=r(29),o=r(30);e.exports=function e(t,r,i,s,a){var c=-1,u=t.length;for(i||(i=o),a||(a=[]);++c<u;){var p=t[c];r>0&&i(p)?r>1?e(p,r-1,i,s,a):n(a,p):s||(a[a.length]=p)}return a}},function(e,t){e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},function(e,t,r){var n=r(7),o=r(14),i=r(3),s=n?n.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(s&&e&&e[s])}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(6),o=r(8);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},function(e,t,r){var n=r(7),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var o=s.call(e);return n&&(t?e[a]=r:delete e[a]),o}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){var n=r(36)(Object.keys,Object);e.exports=n},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(38),o=r(22),i=r(43),s=r(44),a=r(45),c=r(6),u=r(21),p=u(n),l=u(o),f=u(i),d=u(s),h=u(a),v=c;(n&&"[object DataView]"!=v(new n(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||s&&"[object Set]"!=v(new s)||a&&"[object WeakMap]"!=v(new a))&&(v=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case p:return"[object DataView]";case l:return"[object Map]";case f:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,r){var n=r(4)(r(2),"DataView");e.exports=n},function(e,t,r){var n=r(19),o=r(40),i=r(20),s=r(21),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,p=c.toString,l=u.hasOwnProperty,f=RegExp("^"+p.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?f:a).test(s(e))}},function(e,t,r){var n,o=r(41),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},function(e,t,r){var n=r(2)["__core-js_shared__"];e.exports=n},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,r){var n=r(4)(r(2),"Promise");e.exports=n},function(e,t,r){var n=r(4)(r(2),"Set");e.exports=n},function(e,t,r){var n=r(4)(r(2),"WeakMap");e.exports=n},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(6),o=r(24),i=r(8),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!s[n(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){(function(e){var n=r(16),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o&&n.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(this,r(26)(e))},function(e,t,r){var n=r(51),o=r(14),i=r(3),s=r(25),a=r(52),c=r(27),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),p=!r&&o(e),l=!r&&!p&&s(e),f=!r&&!p&&!l&&c(e),d=r||p||l||f,h=d?n(e.length,String):[],v=h.length;for(var g in e)!t&&!u.call(e,g)||d&&("length"==g||l&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,v))||h.push(g);return h}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){var n=r(54),o=r(82);e.exports=function(e,t){for(var r=0,i=(t=n(t,e)).length;null!=e&&r<i;)e=e[o(t[r++])];return r&&r==i?e:void 0}},function(e,t,r){var n=r(3),o=r(55),i=r(56),s=r(79);e.exports=function(e,t){return n(e)?e:o(e,t)?[e]:i(s(e))}},function(e,t,r){var n=r(3),o=r(15),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!o(e))||(s.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,r){var n=r(57),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,r,n,o){t.push(n?o.replace(i,"$1"):r||e)})),t}));e.exports=s},function(e,t,r){var n=r(58);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},function(e,t,r){var n=r(59);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var s=e.apply(this,n);return r.cache=i.set(o,s)||i,s};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},function(e,t,r){var n=r(60),o=r(74),i=r(76),s=r(77),a=r(78);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,r){var n=r(61),o=r(67),i=r(22);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},function(e,t,r){var n=r(62),o=r(63),i=r(64),s=r(65),a=r(66);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,r){var n=r(9);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(9),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(9),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},function(e,t,r){var n=r(9);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,r){var n=r(68),o=r(69),i=r(71),s=r(72),a=r(73);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(10),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(10);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(10);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(10);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},function(e,t,r){var n=r(11);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(11);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(11);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(11);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},function(e,t,r){var n=r(80);e.exports=function(e){return null==e?"":n(e)}},function(e,t,r){var n=r(7),o=r(81),i=r(3),s=r(15),a=n?n.prototype:void 0,c=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(s(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},function(e,t,r){var n=r(15);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,r){"use strict";r.r(t);var n=r(12),o=r.n(n),i=r(5),s=r.n(i);let a,c,u;function p(e,t){return new Promise(r=>setTimeout(()=>r(t),e))}function l(e){if(!e||"string"!=typeof e)return null;const t=e.replace(/[^\d;]/g,"");return parseInt(t[0])||null}!function(e){e.HIT="HIT",e.MISS="MISS"}(a||(a={})),function(e){e.APPLICATION="APPLICATION",e.PAGE="PAGE",e.PAGE_PART="PAGE_PART",e.SCRIPT="SCRIPT",e.PIXEL="PIXEL",e.IMAGE="IMAGE",e.CUSTOM="CUSTOM"}(c||(c={})),function(e){e.UNKNOWN="CACHE_TYPE_UNKNOWN",e.NGINX="NGINX",e.CDN_MIDGRESS="CDN_MIDGRESS",e.CDN="CDN",e.MISS_ALL="MISS_ALL"}(u||(u={}));async function f(){const e=await navigator.permissions.query({name:"notifications"});return"denied"===Notification.permission&&"prompt"===e.state}async function d(e){if(!navigator.permissions)return!1;try{return e?await async function(){return Promise.race([f(),p(100,!0)])}():await f()}catch(e){}return!1}const h=async({disableBrowserDetect:e})=>{let t="";return await d(e)?t="browser-detect/headless":window.navigator.webdriver&&(t="webdriver"),t?{testingToolName:t}:{}};var v=r(13),g=r.n(v),y=r(1),m=r.n(y);function b(e,t){if("number"==typeof e&&"number"==typeof t)return e-t}const _=(e=[])=>{const t={};return 0===e.length||e.forEach(({name:e,duration:r})=>{"edge"===e&&(t.EDGE_TIME=r)}),t},T=e=>{const{domainLookupEnd:t,domainLookupStart:r,connectEnd:n,redirectEnd:o,redirectStart:i,requestStart:s,responseStart:a,responseEnd:c,secureConnectionStart:u,fetchStart:p,connectStart:f,redirectCount:d,duration:h,decodedBodySize:v,encodedBodySize:g,transferSize:y,nextHopProtocol:m}=e;return{...{CACHE_TIME:b(r,p),TLS_TIME:b(n,u),DNS_TIME:b(t,r)},...{TCP_TIME:b(n,f),REDIRECT_TIME:b(o,i),REDIRECT_COUNT:d,TIME_TO_FIRST_BYTE:b(a,r),TIME_TO_LAST_BYTE:b(c,r),TOTAL_TIME:h,PROTOCOL_VERSION:l(m),REQUEST_QUEUING_TIME:b(s,n)},...{TRANSFER_SIZE:y,DECODED_SIZE:v,ENCODED_SIZE:g}}};let E;!function(e){e.Navigate="NTT_NAVIGATE",e.Reload="NTT_RELOAD",e.BackForward="NTT_BACK_FORWARD",e.Prerender="NTT_PRERENDER"}(E||(E={}));const w={navigate:E.Navigate,reload:E.Reload,back_forward:E.BackForward,prerender:E.Prerender},S=()=>{const e=performance.getEntriesByType("navigation")[0];if(!e)return{};const{domLoading:t,domComplete:r,domInteractive:n,domContentLoadedEventEnd:o,responseStart:i,responseEnd:s,requestStart:a,navigationStart:c,startTime:u,unloadEventEnd:p,unloadEventStart:l}=e;let f;const d=T(e),h={DOM_LOADING_TIME:b(t,c||u),DOM_CONTENT_LOADED_TIME:b(o,c||u),DOM_COMPLETE_TIME:b(r,c||u),DOM_INTERACTIVE_TIME:b(n,c||u),SERVER_TIME:b(i,a),RESPONSE_TIME:b(s,i),UNLOAD_TIME:b(p,l)};f={...h,...d};const v=m()(performance.getEntriesByName("HYDRATION_TIME"),"0.startTime"),y=window.__ST__?((e={})=>Object.entries(e).map(([e,t])=>({name:e,duration:t})))(window.__ST__):e.serverTiming;f={...f,..._(y),HYDRATION_TIME:b(v,o)};const E={};return g()(f).filter(e=>f[e]>0).forEach(e=>E[e]=f[e]),E},j=navigator.connection||navigator.mozConnection||navigator.webkitConnection,I=(new Date).toISOString(),O=(e,t)=>e.filter(({name:e})=>e===t);function M(){const e={};if(j&&j.effectiveType){const t="CELLULAR_"+j.effectiveType.toUpperCase().replace("-","_");e.connectionType=t}return e}async function P(e,{attributes:t,user:r,page:n,object:o,properties:i={},disableBrowserDetect:s,htmlElements:a}){const u=M(),p=function(e={}){return Object.keys(e).map(t=>({type:t,value:e[t]}))}(e);return o.type===c.APPLICATION&&(u.navigationTimingType=(()=>{const e=performance.getEntriesByType("navigation")[0];return e?w[e.type]:""})()),p.length?[{metrics:p,attributes:t,object:o,timestamp:I,user:r,page:n,...await h({disableBrowserDetect:s}),properties:{...i,...u},...a}]:[]}var x=e=>async t=>{const{metrics:r,properties:n}=t;if(s()(r))return[];const o={...e,properties:{...e.properties,...n}};return await P(r,o)};function A(e){const t=e&&e.serverTiming,r=t&&t.find(({name:e})=>"RequestID"===e);return r&&r.description||""}let N;function C(){if(!N){const e=performance.getEntriesByType("navigation");if(!e.length)return;N=A(e[0])}return N}const k=(e,t=!1)=>{const{initiatorType:r,serverTiming:n=[]}=e,o=T(e),i="img"===r||t?((e=[])=>{const t=e.reduce((e,t)=>"o3_img_resize"===t.name?(e[t.name]=t.duration||0,e):(e[t.name]=t.description||"",e),{}),r={cacheType:u.UNKNOWN},n=!t["cdn-cache"]||t["cdn-cache"]===a.MISS;return t["cdn-cache"]===a.HIT?r.cacheType=u.CDN:n&&t.o3_img_cache===a.HIT?r.cacheType=u.NGINX:n&&t.o3_img_cache===a.MISS?(r.cacheType=u.MISS_ALL,r.resizeTime=t.o3_img_resize):n&&"midgress"in t&&(r.cacheType=u.CDN_MIDGRESS),r})(n):{},s={...o,...i.resizeTime?{IMG_RESIZE_TIME:i.resizeTime}:{}},c={};g()(s).filter(e=>s[e]>0).forEach(e=>c[e]=s[e]);const p={url:e.name,cacheType:i.cacheType,requestId:A(e)},l=(e=>{for(const r of e){var t;if("edge_ip"===r.name)return null!==(t=r.description)&&void 0!==t?t:""}return""})(n);return l&&(p.edgeIp=l),{metrics:c,properties:p}};async function L(e,{attemts:t=10,timeoutMillis:r=100}={}){const n=encodeURIComponent(e);let o=t;for(;o>0;){const e=performance.getEntriesByType("resource").find(e=>e.name.includes(n));if(e)return e;o-=1,await p(r)}return null}const D=e=>e.renderTime||e.loadTime,U={CLS:"CUMULATIVE_LAYOUT_SHIFT",LCP:"LARGEST_CONTENTFUL_PAINT",FID:"FIRST_INPUT_DELAY",LT:"LONG_TASK_COUNT"},B=(e,t)=>{const r={};if(Object.keys(e).forEach(t=>{var n;e[t].value&&(r[(n=t,U[n])]=e[t].value)}),t){r[U.LCP]=D(t);const{loadTime:e}=t;r.LCP_LOAD_TIME=e}return r};var R=function(e=[]){if(performance.getEntriesByType){const t=performance.getEntriesByType("mark").reduce((e,t)=>(e[t.name]=t.startTime,e),{}),r={};for(let n=0;n<e.length;n++){const o=e[n],i=b(t[o+":end"],t[o+":start"]);i&&i>0&&(r[o]=i,performance.clearMarks(o+":end"))}return 0===Object.keys(r).length?{}:r}return{}},z=({trackNavigation:e,trackPaint:t,customMarksNames:r})=>({...e?S():{},...t?function(){if(performance.getEntriesByType){const e=performance.getEntriesByType("paint"),[t]=O(e,"first-contentful-paint"),[r]=O(e,"first-paint");if(t&&r)return{FIRST_CONTENTFUL_PAINT:t.startTime,FIRST_PAINT:r.startTime}}return{}}():{},...R(r)});let G;function F({endpoint:e,headers:t},r){if(G||(G=async function e(t=1e3,r=100,n=10){const o=window.__BAZONE__;if(o&&"object"==typeof o&&"function"==typeof o.then)return Promise.race([o,p(t)]);if(n>0){await p(r);return e(t,r,n-1)}return Promise.resolve()}()),!r.events.length)return;const n=JSON.stringify(r);t&&"object"==typeof t?fetch(e,{body:n,method:"POST",headers:{"Content-Type":"application/json",...t}}):navigator.sendBeacon(e,n)}const H=async e=>{const t={};if(e){const r=e.element,n=(null==r?void 0:r.localName)||"",o=(null==r?void 0:r.currentSrc)||"",i=e.size,s=e.renderTime;let a=await new Promise(async e=>{o?(await async function(e,{timeout:t=50,attempts:r=10}={}){for(;!e()&&r>0;)await p(t),r-=1;return!0}(()=>performance.getEntriesByName(o).length>0,{label:"lcpAspects"}),e(performance.getEntriesByName(o)[0])):e(void 0)});const c=(e=>{if(!e)return[];const t=[];let r=e;for(;r.parentNode&&"BODY"!==r.nodeName;){const e=r.getAttribute("data-widget");e&&t.push(e),r=r.parentNode}return t})(r);t.htmlElements=[{type:"ELEMENT_TYPE_LCP",tag:n,url:o,size:i,widgets:c,renderTime:s,ntResponseStart:null==a?void 0:a.responseStart,ntResponseEnd:null==a?void 0:a.responseEnd,ntDomainLookupStart:null==a?void 0:a.domainLookupStart}]}return t},V=async({metrics:e={},getUser:t,getPage:r,object:n={},getAttributes:i,endpoint:a,trackNavigation:u,trackPaint:p,customMarksNames:l,trackImages:f,resources:d=[],trackJs:h,trackSpa:v,trackLcpElement:g,spaTransitionUrl:y,queryUrl:b,trackPagination:T,paginationUrl:E,extraPageInfo:w={},disableBrowserDetect:S,disableModalTracking:j,webVitalsVariable:I,headers:O,isSiteSpeed:M})=>{if(!window.performance||"function"!=typeof performance.getEntries)return;const N=(e=>{if(!e)return;const{LCP:t}=e,r=performance.getEntriesByType("navigation")[0],n=r&&(r.loadEventEnd||r.duration),o=t.entries.filter(e=>D(e)<=n);return o[o.length-1]})(I),U={...z({trackNavigation:u,trackPaint:p,customMarksNames:l}),...e,...I?B(I,N):{}},R={attributes:i(),user:t(),page:r(),object:n,disableBrowserDetect:S,isSiteSpeed:M},G=f&&d.length?await async function(e,t){const r={...e,object:{type:c.IMAGE}},n=t.map(e=>k(e)).map(x(r)),i=await Promise.all(n);return i.filter(e=>!s()(e)),o()(i)}(R,d):[],V=h&&d.length?await async function(e,t){const r=t.filter(e=>/\.js$/.test(e.name)),n={...e,object:{type:c.SCRIPT}},i=r.map(e=>k(e)).map(x(n)),a=await Promise.all(i);return a.filter(e=>!s()(e)),o()(a)}(R,d):[],q=T?await(async(e,t,{layoutContainer:r,layoutPagePartIndex:n,queryUrl:o="",loaderVisibleTime:i})=>{const s=performance.getEntriesByName("paginationStart"),a=m()(s[s.length-1],"startTime"),c=performance.getEntriesByName("paginationEnd"),u=m()(c[c.length-1],"startTime"),p=await L(o);if(!p)return{events:[]};const l=k(p);return r&&n&&(e.page={...e.page,layoutContainer:r,layoutPagePartIndex:n}),e.properties={...e.properties,withSW:p.workerStart>0},l.metrics={...l.metrics,..._(p.serverTiming)},l.metrics.TOTAL_TIME=u-a,i&&(l.metrics.LOADER_TIME=i.end-i.start),{events:await x(e)(l),requestId:A(p)}})(R,0,w):{events:[]},$=v?await(async(e,t,{saveMarks:r}={},n="",o=!1)=>{const i=m()(performance.getEntriesByName("spaTransitionStart"),"0.startTime"),s=m()(performance.getEntriesByName("spaTransitionEnd"),"0.startTime"),a=m()(performance.getEntriesByName("layoutTimeStart"),"0.startTime"),c=m()(performance.getEntriesByName("layoutTimeEnd"),"0.startTime"),u={events:[]},p=m()(e,"page.current");if(o&&"modal"===p)return u;const l=await L(n);if(!l)return u;const f=k(l);return f.metrics={...f.metrics,..._(l.serverTiming)},f.metrics.TOTAL_TIME=s-i,f.metrics.LAYOUT_TIME=c-a,r||setTimeout(()=>{performance.clearMarks("spaTransitionStart"),performance.clearMarks("spaTransitionEnd"),performance.clearMarks("layoutTimeStart"),performance.clearMarks("layoutTimeEnd")},0),{events:await x(e)(f),requestId:A(l)}})(R,0,{saveMarks:M},b,j):{events:[]},Y=I&&g?await H(N):{},W=u||p||l||I?await P(U,{...R,htmlElements:Y}):[],J=G.length||V.length||W.length?C():void 0,K=q.requestId,X=$.requestId;let Z;for(const e of[J,K,X])if(Z){if(e&&Z!==e){Z=void 0;break}}else Z=e;Z||(Z=C());F({endpoint:a,headers:O},{events:[...W,...$.events,...q.events,...G,...V],requestId:Z})};const q=async({getAttributes:e,object:t,propertyUrl:r,metrics:n,getUser:o,getPage:i,endpoint:s,headers:a,disableBrowserDetect:c,errors:u,isSiteSpeed:p})=>{const l={attributes:e(),user:o(),page:i(),object:t,disableBrowserDetect:c,properties:{url:r},isSiteSpeed:p};if(!n.length)return;u&&u.length&&l.properties&&(l.properties.errors=u);F({endpoint:s,headers:a},{events:await async function(e,{attributes:t,user:r,page:n,object:o,properties:i={},disableBrowserDetect:s}){if(!e.length)return[];const a=M();return[{customMetrics:e,attributes:t,object:o,timestamp:I,user:r,page:n,...await h({disableBrowserDetect:s}),properties:{...i,...a}}]}(n,l),requestId:C()})};var $=r(0),Y=r.n($);let W;!function(e){e.START="start",e.END="end"}(W||(W={}));class J{constructor(e){Y()(this,"heldEntries",[]),Y()(this,"sentEntries",[]),Y()(this,"capacity",20),this.capacity=void 0!==e.capacity?e.capacity:20}addHeldEntries(e,t=W.END){"start"===t?this.heldEntries.unshift(...e):this.heldEntries.push(...e)}addSentEntries(e){this.sentEntries.push(...e)}deleteHeldEntry(e){return"object"==typeof this.heldEntries[e]&&(this.heldEntries.splice(e,1),!0)}clearHeldEntries(){this.heldEntries=[]}clearSentEntries(){this.sentEntries=[]}isFull(){return this.heldEntries.length>=this.capacity}}const K={pageCloseEnabled:!0,capacity:20,sendTimeout:3e4,sendMethod:()=>!1};class X{constructor(e){Y()(this,"store",void 0),Y()(this,"config",void 0),Y()(this,"scheduledSendTimer",void 0),Y()(this,"isOnUnload",!1),this.config=Object.assign({},e),this.store=new J({capacity:this.config.capacity}),this.scheduledSendTimer=((e,t)=>{let r;const n={start(){n.cancel(),r=window.setTimeout(e,t)},cancel(){window.clearTimeout(r),r=void 0}};return n})(()=>this.send(),this.config.sendTimeout||e.sendTimeout||K.sendTimeout),setTimeout(()=>{const e=()=>{"hidden"===document.visibilityState&&(this.flush(),window.removeEventListener("visibilitychange",e,!0))};window.addEventListener("visibilitychange",e,!0),window.addEventListener("pagehide",()=>this.flush(),{capture:!0,once:!0})}),window.addEventListener("beforeunload",()=>{this.isOnUnload=!0,this.flush()})}add(e,{forceSend:t=!1}={}){if(this.isOnUnload)return this.scheduledSendTimer.cancel(),void this.store.addHeldEntries([e]);this.store.addHeldEntries([e]),this.store.isFull()||t?this.flush():this.scheduledSendTimer.start()}flush(){this.scheduledSendTimer.cancel(),this.send()}send(){const e=this.store.heldEntries.slice();if(!e.length)return;this.config.sendMethod(e)&&(this.store.clearHeldEntries(),this.store.addSentEntries(e))}}class Z{constructor(e){Y()(this,"observer",void 0),Y()(this,"entriesBuffer",void 0),Y()(this,"collectEntries",e=>{e.getEntries().filter(e=>"img"===e.initiatorType||"css"===e.initiatorType&&/.(jpe?g|png|webp)/i.test(e.name)).forEach(e=>{e.decodedBodySize>0&&this.entriesBuffer.add(e)})}),Y()(this,"stopCollectEntries",()=>{this.observer.disconnect()}),this.entriesBuffer=new X({...K,sendMethod:e}),this.observer=new PerformanceObserver(this.collectEntries),document.addEventListener("pagehide",this.stopCollectEntries)}startCollectEntries(){this.observer.observe({type:"resource",buffered:!0})}}class Q{constructor(e){Y()(this,"observer",void 0),Y()(this,"buffer",void 0),Y()(this,"stopCollectingEntries",()=>{this.observer.disconnect()}),Y()(this,"collectScripts",e=>{for(const t of e.getEntries())/\.js$/.test(t.name)&&t.decodedBodySize>0&&this.buffer.add(t)}),this.observer=new PerformanceObserver(this.collectScripts),this.buffer=new X({...K,sendMethod:e}),document.addEventListener("pagehide",this.stopCollectingEntries)}startCollectingEntries(){this.observer.observe({type:"resource",buffered:!0})}}window.__ClientMetrics__={},window.__ClientMetrics__.init=function({endpoint:e="",trackJs:t=!1,trackImages:r=!1,disableBrowserDetect:n=!1,trackLcpElement:o=!1,disableModalTracking:i=!1,customMarksNames:s=[],getAttributes:a=(()=>null),getUser:u=(()=>null),getPage:p=(()=>null),object:l={},settings:f={spaTransitionUrl:"",paginationUrl:""},namespace:d="",trackNavigation:h=!0,trackPaint:v=!0,trackMemory:g=!0,webVitalsVariable:y=window.$$windowMetrics,headers:b=null,isSiteSpeed:_}={}){try{if(!d)return;if(!e)return;if(!(window&&window.navigator&&navigator.sendBeacon))return;window.$getWebVitals$({collectEntries:!0});const T={metrics:{},getAttributes:a,disableBrowserDetect:n,object:l,getUser:u,getPage:p,endpoint:e,trackNavigation:h,trackPaint:v,trackLcpElement:o,customMarksNames:s,headers:b,isSiteSpeed:_},{spaTransitionUrl:E,paginationUrl:w}=f,S=async()=>{await V({...T,webVitalsVariable:y}),window.removeEventListener("beforeunload",j)},j=()=>{V({...T,webVitalsVariable:y})};window.addEventListener("beforeunload",j),"complete"===document.readyState?setTimeout(S,0):window.addEventListener("load",()=>setTimeout(S,0)),g&&window.addEventListener("beforeunload",()=>(async({endpoint:e,getAttributes:t,getPage:r,getUser:n,headers:o,...i})=>{const s=m()(window.performance,["memory","usedJSHeapSize"]),a=m()(window.performance,["memory","totalJSHeapSize"]),c={TOTAL_MEMORY_USAGE:a,JS_HEAP_MEMORY_USAGE:s},u={...i,attributes:t(),page:r(),user:n()};if(s||a){F({endpoint:e,headers:o},{events:await P(c,u),requestId:C()})}})({endpoint:e,getAttributes:a,getPage:p,getUser:u,headers:null,object:{type:c.APPLICATION},disableBrowserDetect:n,isSiteSpeed:_})),window.__ClientMetrics__.trackSpaTransition=(t="",{objectType:r=""}={})=>{V({customMarksNames:s,getAttributes:a,object:{type:r||c.PAGE},getUser:u,getPage:p,endpoint:e,trackSpa:!0,disableModalTracking:i,spaTransitionUrl:E,queryUrl:t,headers:null,disableBrowserDetect:n,isSiteSpeed:_})},window.__ClientMetrics__.trackSpa=()=>{V({customMarksNames:s,getAttributes:a,object:{type:c.PAGE},getUser:u,getPage:p,endpoint:e,headers:b,disableBrowserDetect:n,isSiteSpeed:_})},window.__ClientMetrics__.trackCustomMetricsForSellerCenter=()=>{V({customMarksNames:s,getAttributes:a,object:{type:c.APPLICATION},getUser:u,getPage:p,endpoint:e,headers:b,disableBrowserDetect:n,isSiteSpeed:_})},window.__ClientMetrics__.trackPaginationChange=t=>{V({getAttributes:a,object:{type:c.PAGE_PART},getUser:u,getPage:p,endpoint:e,trackPagination:!0,paginationUrl:w,extraPageInfo:t,headers:null,disableBrowserDetect:n,isSiteSpeed:_})},window.__ClientMetrics__.trackCustomMetric=({propertyUrl:t,metrics:r=[],objectType:o=c.CUSTOM,errors:i=[]})=>{q({getAttributes:a,object:{type:o},propertyUrl:t,metrics:r,getUser:u,getPage:p,endpoint:e,disableBrowserDetect:n,headers:null,errors:i,isSiteSpeed:_})},r&&new Z(t=>(V({resources:t,getAttributes:a,getUser:u,getPage:p,endpoint:e,trackImages:r,headers:null,disableBrowserDetect:n,isSiteSpeed:_}),!0)).startCollectEntries(),t&&(e=>{new Q(e).startCollectingEntries()})(r=>(V({resources:r,getAttributes:a,getUser:u,getPage:p,endpoint:e,trackJs:t,headers:null,disableBrowserDetect:n,isSiteSpeed:_}),!0)),window.__ClientMetrics__.trackWidgetsTimeSpent=()=>{}}catch(e){console.error(e)}},window.__ClientMetricsAutoInit__&&window.__ClientMetricsInit__&&window.__ClientMetrics__.init(window.__ClientMetricsInit__)}])}));