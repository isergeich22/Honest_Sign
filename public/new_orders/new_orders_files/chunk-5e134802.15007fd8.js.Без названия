(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5e134802"],{"/builds/marketplace/fe/seller-ui/node_modules/cache-loader/dist/cjs.js??ref--0-0!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/vue-loader/lib/index.js??vue-loader-options!/builds/marketplace/fe/seller-ui/packages/seller-ui/src/components/top-banner/index.vue 40d7b0e4c8840aee8d1f7943c4d0bfdd":function(e,s,t){"use strict";t.r(s);var l=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("transition",{attrs:{appear:"","enter-active-class":e.$style.topBannerEnterActive,"leave-active-class":e.$style.topBannerLeaveActive,"enter-class":e.$style.topBannerEnter,"leave-to-class":e.$style.topBannerLeave}},[e.getCurrentNotice?t("banner-content",{attrs:{"current-notice":e.getCurrentNotice}}):e._e()],1)},r=[],o=t("/builds/marketplace/fe/seller-ui/node_modules/vuex/dist/vuex.esm.js"),a=function(){var e,s,t=this,l=t.$createElement,r=t._self._c||l;return r("div",{ref:"bannerContainer",class:[t.$style.bannerContainer,(e={},e[t.$style.clickable]=t.currentNotice.action,e)],style:t.currentNoticeLevel,on:{click:t.action}},[r("div",{class:[t.$style.wrapper,(s={},s[t.$style.wrapperHover]=t.hover&&t.currentNotice.actionTitle,s)],attrs:{title:t.currentNotice.text},on:{mouseenter:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},[r("div",{class:t.$style.content},[r("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:14",value:1,expression:"1",arg:"14"}],class:t.$style.title},[t._v(t._s(t.currentNotice.title))]),r("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:14",value:1,expression:"1",arg:"14"}],staticClass:"pl4"},[t._v(t._s(t.currentNotice.text))])]),t.currentNotice.actionTitle?r("div",{directives:[{name:"line-clamp",rawName:"v-line-clamp:14",value:1,expression:"1",arg:"14"}],class:t.$style.content},[t._v(" "+t._s(t.currentNotice.actionTitle)+" ")]):t._e()]),r("div",{class:[t.$style.close,t.getClassByLevel]},[r("icon",{attrs:{name:"actions-close",size:"20",fill:t.colors["--ui-color-white"]},on:{click:function(e){return e.stopPropagation(),t.onClose.apply(null,arguments)}}})],1)])},n=[],i=t("/builds/marketplace/fe/seller-ui/node_modules/vue-types/dist/vue-types.m.js"),c=t("/builds/marketplace/fe/seller-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-0-0!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-0-1!/builds/marketplace/fe/seller-ui/node_modules/postcss-loader/src/index.js??ref--5-oneOf-0-2!/builds/marketplace/fe/seller-ui/packages/sc-components/color-palette.css?module"),d=t.n(c),u=t("/builds/marketplace/fe/seller-ui/node_modules/cache-loader/dist/cjs.js??ref--9-0!/builds/marketplace/fe/seller-ui/node_modules/babel-loader/lib/index.js!/builds/marketplace/fe/seller-ui/node_modules/ts-loader/index.js??ref--9-2!/builds/marketplace/fe/seller-ui/packages/seller-ui/scripts/vue-tsx-loader/loader.js!/builds/marketplace/fe/seller-ui/packages/sc-components/icon/index.tsx edc285a51905b60e0755a44579530d66");window.requestIdleCallback||(window.requestIdleCallback=e=>{const s=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-s))})},1)});var p=(...e)=>{const s=e.slice(),t=e=>{while(e.timeRemaining()>0&&s.length>0)s.shift()();s.length>0&&window.requestIdleCallback(t)};window.requestIdleCallback(t)};const m={TEMPORARY:"TEMPORARY",REQUIRING:"REQUIRING",CRITICAL:"CRITICAL"},f={RELOAD:"RELOAD",REDIRECT:"REDIRECT",HANDLER:"HANDLER"},g={TEMPORARY:"--ui-color-black-light",REQUIRING:"--ui-color-blue",CRITICAL:"--ui-color-red"},b=3e5,k=6e5;var _=function(e){let s=0,t=0;const l=async()=>{clearTimeout(s),e.$store.commit("topBanner/queue/restoreRepeatBanners",(new Date).getTime()),s=setTimeout(()=>l(),k)},r=e=>e.id&&(e.title||e.text)?(e.level?e.level=e.level.toUpperCase():e.level=m.TEMPORARY,e.type="notice",e):null,o=async()=>{const{result:s}=await e.$http.notificationService.postSiteNoticeList({companyId:e.$store.getters["company/companyId"]});s&&s.length&&e.$store.commit("topBanner/queue/updateNoticeList",s.map(e=>r(e)),"notice")},a=async()=>{if(clearTimeout(t),e.isLoggedIn){try{await o()}catch(s){console.error(s)}t=setTimeout(()=>a(),b)}};p(a,l),e.$on("hook:destroyed",()=>{clearTimeout(s),clearTimeout(t)})},h=t("/builds/marketplace/fe/seller-ui/packages/seller-ui/src/components/top-banner/offer-notice.i18n.json");const v="offer-banner";var y=function(e){const s=e.$store.$makeTranslationHelper(h);let t;const l=()=>{e.$store.commit("topBanner/queue/addNotice",{id:v,title:s("title"),text:s("text"),type:"offer",level:m.REQUIRING,action:f.HANDLER,actionValue:"",actionHandle:()=>{e.$store.dispatch("company/showOfferModal"),e.$log({actionType:e.$logActionTypes.CLICK_ACTION,widgetName:"offer_banner"})},actionTitle:s("actionTitle"),repeatAfter:36e3})};e.$on("hook:created",()=>{t=e.$watch(()=>e.$store.getters["company/isApproved"],s=>{s&&e.$store.commit("topBanner/queue/removeNotice",{id:v})})}),e.$on("hook:mounted",()=>{!e.$store.getters["company/contractorId"]||e.$store.getters["company/isApproved"]||e.$store.getters["company/isSupplier"]||e.$store.getters["company/isBrand"]&&!e.$store.getters["company/isSellGoods"]||e.$store.getters["company/isCountryCodeRu"]||(l(),e.$log({actionType:e.$logActionTypes.VIEW_ACTION,widgetName:"offer_banner"}))}),e.$on("hook:destroyed",()=>{t()})},j=t("/builds/marketplace/fe/seller-ui/node_modules/axios/index.js"),T=t.n(j),x={async getServerVersion(){try{const{data:e}=await T()({method:"get",url:`//${window.location.host}/rev.txt?${Date.now()}`,responseType:"json",headers:{"cache-control":"no-cache",pragma:"no-cache"}});return e}catch(e){return{}}}},C=t("/builds/marketplace/fe/seller-ui/packages/seller-ui/src/components/top-banner/version-control.i18n.json");const O=18e4;var N=function(e){const s=e.$store.$makeTranslationHelper(C);let t=0,l=null;const r=async()=>{const t=await x.getServerVersion();t&&t.gitHash&&(null===l?(l=t.gitHash,window.gitHash=t.gitHash):t.gitHash!==l&&(t.forceUpdate?window.location.reload(!0):e.$store.commit("topBanner/queue/addNotice",{id:"version-control-"+t.gitHash,title:s("title"),text:s("text"),type:"version",level:m.TEMPORARY,action:f.RELOAD,actionValue:""})))},o=async()=>{clearTimeout(t);try{await r()}catch(e){console.error(e)}t=setTimeout(()=>o(),O)};p(o),e.$on("hook:destroyed",()=>{clearTimeout(t)})},$={name:"BannerContent",components:{Icon:u["a"]},props:{currentNotice:i["default"].shape({action:i["default"].string,actionTitle:i["default"].string,actionValue:i["default"].string,autoCreation:i["default"].bool,forMobile:i["default"].bool,id:i["default"].oneOfType([i["default"].string,i["default"].number]),level:i["default"].string,position:i["default"].string,repeatAfter:i["default"].number,title:i["default"].string,text:i["default"].string,type:i["default"].string}).isRequired},data(){return{colors:d.a,hover:!1}},computed:{currentNoticeLevel(){const e=g[this.currentNotice.level]?g[this.currentNotice.level]:g.TEMPORARY;return{"background-color":d.a[e]}},loggerTargetContext(){var e;return{object:{type:"banner",id:this.currentNotice.id},properties:{status:this.currentNotice.level,checked:(null===(e=this.currentNotice.action)||void 0===e?void 0:e.length)>0}}},getClassByLevel(){switch(this.currentNotice.level){case m.CRITICAL:return this.$style.closeCritial;case m.REQUIRING:return this.$style.closeRequiring;default:return this.$style.closeTemporary}}},beforeCreate(){"DEVELOPMENT"!==window.__config.environment&&N(this),_(this),y(this)},mounted(){this.$log({actionType:"user_sees_banner",widgetName:"top_banner",...this.loggerTargetContext})},methods:{...Object(o["mapMutations"])("topBanner/queue",["removeNotice","addNotice"]),async logRedirectBanner(){await this.$log({actionType:this.$logActionTypes.CLICK_ACTION,widgetName:"top_banner_redirect",...this.loggerTargetContext}),window.location.href=this.currentNotice.actionValue},async logReloadBanner(){await this.$log({actionType:this.$logActionTypes.CLICK_ACTION,widgetName:"top_banner_reload",...this.loggerTargetContext}),this.$router.go()},action(){if(this.currentNotice.action===f.RELOAD&&this.logReloadBanner(),this.currentNotice.action===f.REDIRECT&&this.logRedirectBanner(),this.currentNotice.action===f.HANDLER){const e=this.currentNotice.actionHandle;this.$log({actionType:this.$logActionTypes.CLICK_ACTION,widgetName:"top_banner_oferta",...this.loggerTargetContext}),e&&e()}this.currentNotice.action!==f.HANDLER&&this.currentNotice.action!==f.REDIRECT&&this.currentNotice.action!==f.RELOAD&&this.$log({actionType:this.$logActionTypes.CLICK_ACTION,widgetName:"top_banner_disabled",...this.loggerTargetContext})},onClose(){if(this.currentNotice){switch(this.currentNotice.action){case f.HANDLER:this.$log({actionType:this.$logActionTypes.CLICK_ACTION,widgetName:"top_banner_oferta_close",...this.loggerTargetContext});break;case f.REDIRECT:this.$log({actionType:this.$logActionTypes.CLICK_ACTION,widgetName:"top_banner_redirect_close",...this.loggerTargetContext});break;case f.RELOAD:this.$log({actionType:this.$logActionTypes.CLICK_ACTION,widgetName:"top_banner_reload_close",...this.loggerTargetContext});break;default:this.$log({actionType:this.$logActionTypes.CLICK_ACTION,widgetName:"top_banner_disabled_close",...this.loggerTargetContext})}this.removeNotice(this.currentNotice)}}}},w=$,R=t("/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/builds/marketplace/fe/seller-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!/builds/marketplace/fe/seller-ui/node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!/builds/marketplace/fe/seller-ui/node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-0-3!/builds/marketplace/fe/seller-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!/builds/marketplace/fe/seller-ui/node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!/builds/marketplace/fe/seller-ui/node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-0-3!/builds/marketplace/fe/seller-ui/packages/seller-ui/src/components/top-banner/banner-content.scss?vue&type=style&index=0&module=true&lang=scss&"),A=t("/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/vue-loader/lib/runtime/componentNormalizer.js");function I(e){this["$style"]=R["default"].locals||R["default"]}var E=Object(A["a"])(w,a,n,!1,I,null,null),L=E.exports,B={name:"TopBanner",components:{BannerContent:L},data(){return{timer:0,clearTimer:0,hover:!1}},computed:{...Object(o["mapGetters"])("topBanner/queue",["getCurrentNotice"]),...Object(o["mapGetters"])("user",["isLoggedIn"])},beforeCreate(){"DEVELOPMENT"!==window.__config.environment&&N(this),_(this),y(this)}},H=B,D=t("/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/builds/marketplace/fe/seller-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-0-0!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-0-1!/builds/marketplace/fe/seller-ui/node_modules/postcss-loader/src/index.js??ref--5-oneOf-0-2!/builds/marketplace/fe/seller-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-0-0!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-0-1!/builds/marketplace/fe/seller-ui/node_modules/postcss-loader/src/index.js??ref--5-oneOf-0-2!/builds/marketplace/fe/seller-ui/packages/seller-ui/src/components/top-banner/index.css?vue&type=style&index=0&module=true&lang=css&");function P(e){this["$style"]=D["default"].locals||D["default"]}var q=Object(A["a"])(H,l,r,!1,P,null,null);s["default"]=q.exports},"/builds/marketplace/fe/seller-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-0-0!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-0-1!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/builds/marketplace/fe/seller-ui/node_modules/postcss-loader/src/index.js??ref--5-oneOf-0-2!/builds/marketplace/fe/seller-ui/packages/seller-ui/src/components/top-banner/index.css?vue&type=style&index=0&module=true&lang=css&":function(e,s,t){e.exports={topBannerEnterActive:"index_topBannerEnterActive_+Hr60",topBannerLeaveActive:"index_topBannerLeaveActive_9foyr",topBannerEnter:"index_topBannerEnter_bI1GC",topBannerLeave:"index_topBannerLeave_auw3v"}},"/builds/marketplace/fe/seller-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/builds/marketplace/fe/seller-ui/node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!/builds/marketplace/fe/seller-ui/node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-0-3!/builds/marketplace/fe/seller-ui/packages/seller-ui/src/components/top-banner/banner-content.scss?vue&type=style&index=0&module=true&lang=scss&":function(e,s,t){e.exports={bannerContainer:"banner-content_bannerContainer_r3O4x",wrapper:"banner-content_wrapper_6kJNC",wrapperHover:"banner-content_wrapperHover_MnUA-",content:"banner-content_content_PfMYg",title:"banner-content_title_s4Cdz",message:"banner-content_message_6oc-i",close:"banner-content_close_A5SgT",closeCritial:"banner-content_closeCritial_5hgRk",closeRequiring:"banner-content_closeRequiring_KgyWF",closeTemporary:"banner-content_closeTemporary_YPPHw",clickable:"banner-content_clickable_z0ORc"}},"/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/builds/marketplace/fe/seller-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-0-0!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-0-1!/builds/marketplace/fe/seller-ui/node_modules/postcss-loader/src/index.js??ref--5-oneOf-0-2!/builds/marketplace/fe/seller-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-0-0!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-0-1!/builds/marketplace/fe/seller-ui/node_modules/postcss-loader/src/index.js??ref--5-oneOf-0-2!/builds/marketplace/fe/seller-ui/packages/seller-ui/src/components/top-banner/index.css?vue&type=style&index=0&module=true&lang=css&":function(e,s,t){"use strict";var l=t("/builds/marketplace/fe/seller-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-0-0!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-0-1!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/builds/marketplace/fe/seller-ui/node_modules/postcss-loader/src/index.js??ref--5-oneOf-0-2!/builds/marketplace/fe/seller-ui/packages/seller-ui/src/components/top-banner/index.css?vue&type=style&index=0&module=true&lang=css&"),r=t.n(l);t.d(s,"default",(function(){return r.a}))},"/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/vue-loader/lib/loaders/pitcher.js??ref--4!/builds/marketplace/fe/seller-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!/builds/marketplace/fe/seller-ui/node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!/builds/marketplace/fe/seller-ui/node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-0-3!/builds/marketplace/fe/seller-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!/builds/marketplace/fe/seller-ui/node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!/builds/marketplace/fe/seller-ui/node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-0-3!/builds/marketplace/fe/seller-ui/packages/seller-ui/src/components/top-banner/banner-content.scss?vue&type=style&index=0&module=true&lang=scss&":function(e,s,t){"use strict";var l=t("/builds/marketplace/fe/seller-ui/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-0-0!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-0-1!/builds/marketplace/fe/seller-ui/packages/seller-ui/node_modules/vue-loader/lib/loaders/stylePostLoader.js!/builds/marketplace/fe/seller-ui/node_modules/postcss-loader/src/index.js??ref--6-oneOf-0-2!/builds/marketplace/fe/seller-ui/node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-0-3!/builds/marketplace/fe/seller-ui/packages/seller-ui/src/components/top-banner/banner-content.scss?vue&type=style&index=0&module=true&lang=scss&"),r=t.n(l);t.d(s,"default",(function(){return r.a}))},"/builds/marketplace/fe/seller-ui/packages/seller-ui/src/components/top-banner/offer-notice.i18n.json":function(e){e.exports=JSON.parse('{"messages":{"ru":{"title":"Примите оферту","text":"Чтобы начать продавать","actionTitle":"Нажмите, чтобы перейти к оферте"},"en":{"title":"Accept the offer","text":"To start selling","actionTitle":"Click to take an offer"},"zh-Hans":{"title":"接受报价","text":"开始销售","actionTitle":"点击接受报价"},"tr":{"title":"Teklifi kabul et","text":"Satışa başlamak için","actionTitle":"Teklife gitmek için tıklayın"}}}')},"/builds/marketplace/fe/seller-ui/packages/seller-ui/src/components/top-banner/version-control.i18n.json":function(e){e.exports=JSON.parse('{"messages":{"ru":{"title":"Обновление сервиса","text":"Когда будете готовы, перезагрузите страницу"},"en":{"title":"We\'re upgrading the service for you. Will be back soon","text":"Reload page when ready"},"zh-Hans":{"title":"更新服务。","text":"准备就绪后重新加载页面"},"tr":{"title":"Servis güncellemesi","text":"Hazır olduğunuzda sayfayı yeniden yükleyin"}}}')}}]);
//# sourceMappingURL=chunk-5e134802.15007fd8.js.map